"use strict";(self["webpackChunkvue3_nb0"]=self["webpackChunkvue3_nb0"]||[]).push([[110],{28110:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ie});n(32564),n(57658),n(54678),n(89554),n(41539),n(26699);var i=n(66252),u=n(3577),a=n(2262),r=n(49963),c=(n(34539),function(e){return(0,i.dD)("data-v-27c06920"),e=e(),(0,i.Cn)(),e}),o={class:"home_view"},s={class:"projectTitle"},l={class:"count_list"},d={class:"index_card_head"},h=c((function(){return(0,i._)("div",{class:"card_head_title"}," 咨询师预约 ",-1)})),f={class:"card_head_right"},p={class:"count_item"},_=c((function(){return(0,i._)("div",{class:"count_title"},"咨询师预约总数",-1)})),v={class:"count_num"},y={class:"index_card_head"},m=c((function(){return(0,i._)("div",{class:"card_head_title"}," 测试评分 ",-1)})),g={class:"card_head_right"},w={class:"count_item"},C=c((function(){return(0,i._)("div",{class:"count_title"},"测试评分总数",-1)})),x={class:"count_num"},T={class:"index_card_head"},z=c((function(){return(0,i._)("div",{class:"card_head_title"}," 论坛交流 ",-1)})),W={class:"card_head_right"},k={class:"count_item"},I=c((function(){return(0,i._)("div",{class:"count_title"},"论坛交流总数",-1)})),b={class:"count_num"},F={class:"card_list"},E={class:"index_card_head"},A=c((function(){return(0,i._)("div",{class:"card_head_title"}," 咨询师预约 ",-1)})),j={class:"card_head_right"},B={class:"card_item"},$=c((function(){return(0,i._)("div",{id:"zixunshiyuyuezixunshizhanghaoEchart1",class:"Echart",style:{width:"100%",height:"400px"}},null,-1)})),O=[$],q={class:"index_card_head"},H=c((function(){return(0,i._)("div",{class:"card_head_title"}," 测试评分 ",-1)})),N={class:"card_head_right"},S={class:"card_item"},Y=c((function(){return(0,i._)("div",{id:"ceshipingfenpingfenEchart1",class:"Echart",style:{width:"100%",height:"400px"}},null,-1)})),L=[Y],U={class:"index_card_head"},D=c((function(){return(0,i._)("div",{class:"card_head_title"}," 测试评分 ",-1)})),X={class:"card_head_right"},P={class:"card_item"},V=c((function(){return(0,i._)("div",{id:"ceshipingfenzhanghaoEchart2",class:"Echart",style:{width:"100%",height:"400px"}},null,-1)})),Z=[V],G={class:"index_card_head"},J=c((function(){return(0,i._)("div",{class:"card_head_title"}," 论坛交流 ",-1)})),K={class:"card_head_right"},M={class:"card_item"},Q=c((function(){return(0,i._)("div",{id:"forumthumbsupNumberEchart1",class:"Echart",style:{width:"100%",height:"400px"}},null,-1)})),R=[Q];const ee={__name:"HomeView",setup:function(e){var t,n=null===(t=(0,i.FN)())||void 0===t?void 0:t.appContext.config.globalProperties,c=n.$project.projectName,$=(0,a.iH)({}),Y=(0,a.iH)(null),V=function(){Q(),Y.value=setInterval((function(){ee(),he()}),6e4)},Q=function(){Y.value&&(clearInterval(Y.value),Y.value=null)};(0,i.Ah)((function(){Q()})),(0,i.bv)((function(){ee(),he(),V()}));var ee=function(){$.value.closezixunshiyuyueCountType=!0,$.value.hiddenzixunshiyuyueCountType=!0,oe("zixunshiyuyue","首页总数")&&ne(),$.value.closeceshipingfenCountType=!0,$.value.hiddenceshipingfenCountType=!0,oe("ceshipingfen","首页总数")&&ue(),$.value.closeforumCountType=!0,$.value.hiddenforumCountType=!0,oe("forum","首页总数")&&re()},te=(0,a.iH)(0),ne=function(){null===n||void 0===n||n.$http({url:"zixunshiyuyue/count",method:"get"}).then((function(e){te.value=e.data.data}))},ie=(0,a.iH)(0),ue=function(){null===n||void 0===n||n.$http({url:"ceshipingfen/count",method:"get"}).then((function(e){e.data&&0===e.data.code?ie.value=e.data.data||0:ie.value=0}))["catch"]((function(e){ie.value=0}))},ae=(0,a.iH)(0),re=function(){null===n||void 0===n||n.$http({url:"forum/count",method:"get"}).then((function(e){ae.value=e.data.data}))},ce=function(e){$.value[e]=!$.value[e]},oe=function(e,t){return null===n||void 0===n?void 0:n.$toolUtil.isAuth(e,t)},se=(0,i.f3)("echarts"),le=function(e){de.value[e]=!de.value[e],setTimeout((function(){he()}),1e3)},de=(0,a.iH)({closezixunshiyuyueChartType1:!0,hiddenzixunshiyuyueChartType1:!0,closeceshipingfenChartType1:!0,hiddenceshipingfenChartType1:!0,closeceshipingfenChartType2:!0,hiddenceshipingfenChartType2:!0,closeforumChartType1:!0,hiddenforumChartType1:!0}),he=function(){oe("zixunshiyuyue","首页统计")&&fe(),oe("ceshipingfen","首页统计")&&pe(),oe("ceshipingfen","首页统计")&&_e(),oe("forum","首页统计")&&ve()},fe=function(){(0,i.Y3)((function(){var e=se.init(document.getElementById("zixunshiyuyuezixunshizhanghaoEchart1"),"theme");null===n||void 0===n||n.$http({url:"zixunshiyuyue/group/zixunshizhanghao",method:"get"}).then((function(t){for(var n=t.data.data,i=[],u=[],a=[],r=0;r<n.length;r++)i.push(n[r].zixunshizhanghao),u.push(parseFloat(n[r].total)),a.push({value:parseFloat(n[r].total),name:n[r].zixunshizhanghao});var c={};c={title:{text:"咨询师预约统计",left:"center"},tooltip:{trigger:"item",formatter:"{b} : {c}"},xAxis:{data:i,type:"category",axisLabel:{interval:0,rotate:30,fontSize:10}},yAxis:{type:"value"},series:{data:u,type:"bar",barWidth:20}};var o=c.xAxis;c.xAxis=c.yAxis,c.yAxis=o,e.clear(),e.setOption(c),e.resize()}))}))},pe=function(){(0,i.Y3)((function(){var e=se.init(document.getElementById("ceshipingfenpingfenEchart1"),"theme");null===n||void 0===n||n.$http({url:"ceshipingfen/sectionStat/pingfen",method:"get"}).then((function(t){var n=t.data.data||[],i=[],u=[],a=[],r=["轻度抑郁","中度抑郁","重度抑郁"],c={};r.forEach((function(e){c[e]=0}));for(var o=0;o<n.length;o++)n[o].pingfen&&r.includes(n[o].pingfen)&&(c[n[o].pingfen]=parseFloat(n[o].total||0));for(var s=0,l=r;s<l.length;s++){var d=l[s];i.push(d),u.push(c[d]),a.push({value:c[d],name:d})}var h={};h={title:{text:"测试评分统计",left:"center"},tooltip:{trigger:"item",formatter:"{b} : {c}"},xAxis:{data:i,type:"category",axisLabel:{interval:0}},yAxis:{type:"value"},series:{data:u,type:"bar",barWidth:20}},e.clear(),e.setOption(h),e.resize()}))["catch"]((function(e){console.error("获取测试评分统计数据失败:",e);var t=se.init(document.getElementById("ceshipingfenpingfenEchart1"),"theme"),n=["轻度抑郁","中度抑郁","重度抑郁"],i=[0,0,0],u={title:{text:"测试评分统计 (无数据)",left:"center"},tooltip:{trigger:"item",formatter:"{b} : {c}"},xAxis:{data:n,type:"category",axisLabel:{interval:0}},yAxis:{type:"value"},series:{data:i,type:"bar",barWidth:20}};t.clear(),t.setOption(u),t.resize()}))}))},_e=function(){(0,i.Y3)((function(){var e=se.init(document.getElementById("ceshipingfenzhanghaoEchart2"),"theme");null===n||void 0===n||n.$http({url:"ceshipingfen/group/zhanghao",method:"get"}).then((function(t){var n=t.data.data||[];console.log("咨询师工作量分析数据:",n);var i=[],u=[],a=[];if(0===n.length)a=[{value:0,name:"暂无数据"}];else for(var r=0;r<n.length;r++)i.push(n[r].zhanghao||"未知用户"),u.push(parseFloat(n[r].total||0)),a.push({value:parseFloat(n[r].total||0),name:n[r].zhanghao||"未知用户"});var c={};c={title:{text:"咨询师工作量分析",left:"center"},legend:{orient:"vertical",left:"left"},tooltip:{trigger:"item",formatter:"{b} : {c} ({d}%)"},series:[{type:"pie",radius:"55%",center:["50%","60%"],data:a,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},e.clear(),e.setOption(c),e.resize()}))["catch"]((function(e){console.error("获取咨询师工作量分析数据失败:",e);var t=se.init(document.getElementById("ceshipingfenzhanghaoEchart2"),"theme"),n=[{value:0,name:"暂无数据"}],i={title:{text:"咨询师工作量分析 (无数据)",left:"center"},legend:{orient:"vertical",left:"left"},tooltip:{trigger:"item",formatter:"{b} : {c} ({d}%)"},series:[{type:"pie",radius:"55%",center:["50%","60%"],data:n,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};t.clear(),t.setOption(i),t.resize()}))}))},ve=function(){(0,i.Y3)((function(){var e=se.init(document.getElementById("forumthumbsupNumberEchart1"),"theme");null===n||void 0===n||n.$http({url:"forum/value/title/thumbsupNumber?order=desc",method:"get"}).then((function(t){for(var n=t.data.data,i=[],u=[],a=[],r=0;r<n.length;r++)i.push(n[r].title),u.push(parseFloat(n[r].total)),a.push({value:parseFloat(n[r].total),name:n[r].title});var c={};c={title:{text:"热门帖子统计",left:"center"},tooltip:{trigger:"item",formatter:"{b} : {c}"},xAxis:{data:i,type:"category"},yAxis:{type:"value"},series:{data:u,type:"line"}},e.clear(),e.setOption(c),e.resize()}))}))},ye=function(){ee(),he()};return ye(),function(e,t){var n=(0,i.up)("ArrowUpBold"),Y=(0,i.up)("el-icon"),V=(0,i.up)("CloseBold"),Q=(0,i.up)("el-collapse-transition"),ee=(0,i.up)("el-card");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",s,"欢迎使用 "+(0,u.zw)((0,a.SU)(c)),1),(0,i._)("div",l,[oe("zixunshiyuyue","首页总数")?((0,i.wg)(),(0,i.j4)(Q,{key:0},{default:(0,i.w5)((function(){return[(0,i.wy)((0,i.Wm)(ee,{class:"card_view count-item"},{header:(0,i.w5)((function(){return[(0,i._)("div",d,[h,(0,i._)("div",f,[(0,i.Wm)(Y,{onClick:t[0]||(t[0]=function(e){return ce("hiddenzixunshiyuyueCountType")}),class:(0,u.C_)(["showIcons",$.value.hiddenzixunshiyuyueCountType?"showIcons1":""])},{default:(0,i.w5)((function(){return[(0,i.Wm)(n)]})),_:1},8,["class"]),(0,i.Wm)(Y,{onClick:t[1]||(t[1]=function(e){return ce("closezixunshiyuyueCountType")}),class:"closeIcons"},{default:(0,i.w5)((function(){return[(0,i.Wm)(V)]})),_:1})])])]})),default:(0,i.w5)((function(){return[(0,i.Wm)(Q,null,{default:(0,i.w5)((function(){return[(0,i.wy)((0,i._)("div",p,[_,(0,i._)("div",v,(0,u.zw)(te.value),1)],512),[[r.F8,$.value.hiddenzixunshiyuyueCountType]])]})),_:1})]})),_:1},512),[[r.F8,$.value.closezixunshiyuyueCountType]])]})),_:1})):(0,i.kq)("",!0),oe("ceshipingfen","首页总数")?((0,i.wg)(),(0,i.j4)(Q,{key:1},{default:(0,i.w5)((function(){return[(0,i.wy)((0,i.Wm)(ee,{class:"card_view count-item"},{header:(0,i.w5)((function(){return[(0,i._)("div",y,[m,(0,i._)("div",g,[(0,i.Wm)(Y,{onClick:t[2]||(t[2]=function(e){return ce("hiddenceshipingfenCountType")}),class:(0,u.C_)(["showIcons",$.value.hiddenceshipingfenCountType?"showIcons1":""])},{default:(0,i.w5)((function(){return[(0,i.Wm)(n)]})),_:1},8,["class"]),(0,i.Wm)(Y,{onClick:t[3]||(t[3]=function(e){return ce("closeceshipingfenCountType")}),class:"closeIcons"},{default:(0,i.w5)((function(){return[(0,i.Wm)(V)]})),_:1})])])]})),default:(0,i.w5)((function(){return[(0,i.Wm)(Q,null,{default:(0,i.w5)((function(){return[(0,i.wy)((0,i._)("div",w,[C,(0,i._)("div",x,(0,u.zw)(ie.value),1)],512),[[r.F8,$.value.hiddenceshipingfenCountType]])]})),_:1})]})),_:1},512),[[r.F8,$.value.closeceshipingfenCountType]])]})),_:1})):(0,i.kq)("",!0),oe("forum","首页总数")?((0,i.wg)(),(0,i.j4)(Q,{key:2},{default:(0,i.w5)((function(){return[(0,i.wy)((0,i.Wm)(ee,{class:"card_view count-item"},{header:(0,i.w5)((function(){return[(0,i._)("div",T,[z,(0,i._)("div",W,[(0,i.Wm)(Y,{onClick:t[4]||(t[4]=function(e){return ce("hiddenforumCountType")}),class:(0,u.C_)(["showIcons",$.value.hiddenforumCountType?"showIcons1":""])},{default:(0,i.w5)((function(){return[(0,i.Wm)(n)]})),_:1},8,["class"]),(0,i.Wm)(Y,{onClick:t[5]||(t[5]=function(e){return ce("closeforumCountType")}),class:"closeIcons"},{default:(0,i.w5)((function(){return[(0,i.Wm)(V)]})),_:1})])])]})),default:(0,i.w5)((function(){return[(0,i.Wm)(Q,null,{default:(0,i.w5)((function(){return[(0,i.wy)((0,i._)("div",k,[I,(0,i._)("div",b,(0,u.zw)(ae.value),1)],512),[[r.F8,$.value.hiddenforumCountType]])]})),_:1})]})),_:1},512),[[r.F8,$.value.closeforumCountType]])]})),_:1})):(0,i.kq)("",!0)]),(0,i._)("div",F,[oe("zixunshiyuyue","首页统计")?((0,i.wg)(),(0,i.j4)(Q,{key:0},{default:(0,i.w5)((function(){return[(0,i.wy)((0,i.Wm)(ee,{class:"card_view chart-item"},{header:(0,i.w5)((function(){return[(0,i._)("div",E,[A,(0,i._)("div",j,[(0,i.Wm)(Y,{onClick:t[6]||(t[6]=function(e){return le("hiddenzixunshiyuyueChartType1")}),class:(0,u.C_)(["showIcons",de.value.hiddenzixunshiyuyueChartType1?"showIcons1":""])},{default:(0,i.w5)((function(){return[(0,i.Wm)(n)]})),_:1},8,["class"]),(0,i.Wm)(Y,{onClick:t[7]||(t[7]=function(e){return le("closezixunshiyuyueChartType1")}),class:"closeIcons"},{default:(0,i.w5)((function(){return[(0,i.Wm)(V)]})),_:1})])])]})),default:(0,i.w5)((function(){return[(0,i.Wm)(Q,null,{default:(0,i.w5)((function(){return[(0,i.wy)((0,i._)("div",B,O,512),[[r.F8,de.value.hiddenzixunshiyuyueChartType1]])]})),_:1})]})),_:1},512),[[r.F8,de.value.closezixunshiyuyueChartType1]])]})),_:1})):(0,i.kq)("",!0),oe("ceshipingfen","首页统计")?((0,i.wg)(),(0,i.j4)(Q,{key:1},{default:(0,i.w5)((function(){return[(0,i.wy)((0,i.Wm)(ee,{class:"card_view chart-item"},{header:(0,i.w5)((function(){return[(0,i._)("div",q,[H,(0,i._)("div",N,[(0,i.Wm)(Y,{onClick:t[8]||(t[8]=function(e){return le("hiddenceshipingfenChartType1")}),class:(0,u.C_)(["showIcons",de.value.hiddenceshipingfenChartType1?"showIcons1":""])},{default:(0,i.w5)((function(){return[(0,i.Wm)(n)]})),_:1},8,["class"]),(0,i.Wm)(Y,{onClick:t[9]||(t[9]=function(e){return le("closeceshipingfenChartType1")}),class:"closeIcons"},{default:(0,i.w5)((function(){return[(0,i.Wm)(V)]})),_:1})])])]})),default:(0,i.w5)((function(){return[(0,i.Wm)(Q,null,{default:(0,i.w5)((function(){return[(0,i.wy)((0,i._)("div",S,L,512),[[r.F8,de.value.hiddenceshipingfenChartType1]])]})),_:1})]})),_:1},512),[[r.F8,de.value.closeceshipingfenChartType1]])]})),_:1})):(0,i.kq)("",!0),oe("ceshipingfen","首页统计")?((0,i.wg)(),(0,i.j4)(Q,{key:2},{default:(0,i.w5)((function(){return[(0,i.wy)((0,i.Wm)(ee,{class:"card_view chart-item"},{header:(0,i.w5)((function(){return[(0,i._)("div",U,[D,(0,i._)("div",X,[(0,i.Wm)(Y,{onClick:t[10]||(t[10]=function(e){return le("hiddenceshipingfenChartType2")}),class:(0,u.C_)(["showIcons",de.value.hiddenceshipingfenChartType2?"showIcons2":""])},{default:(0,i.w5)((function(){return[(0,i.Wm)(n)]})),_:1},8,["class"]),(0,i.Wm)(Y,{onClick:t[11]||(t[11]=function(e){return le("closeceshipingfenChartType2")}),class:"closeIcons"},{default:(0,i.w5)((function(){return[(0,i.Wm)(V)]})),_:1})])])]})),default:(0,i.w5)((function(){return[(0,i.Wm)(Q,null,{default:(0,i.w5)((function(){return[(0,i.wy)((0,i._)("div",P,Z,512),[[r.F8,de.value.hiddenceshipingfenChartType2]])]})),_:1})]})),_:1},512),[[r.F8,de.value.closeceshipingfenChartType2]])]})),_:1})):(0,i.kq)("",!0),oe("forum","首页统计")?((0,i.wg)(),(0,i.j4)(Q,{key:3},{default:(0,i.w5)((function(){return[(0,i.wy)((0,i.Wm)(ee,{class:"card_view chart-item"},{header:(0,i.w5)((function(){return[(0,i._)("div",G,[J,(0,i._)("div",K,[(0,i.Wm)(Y,{onClick:t[12]||(t[12]=function(e){return le("hiddenforumChartType1")}),class:(0,u.C_)(["showIcons",de.value.hiddenforumChartType1?"showIcons1":""])},{default:(0,i.w5)((function(){return[(0,i.Wm)(n)]})),_:1},8,["class"]),(0,i.Wm)(Y,{onClick:t[13]||(t[13]=function(e){return le("closeforumChartType1")}),class:"closeIcons"},{default:(0,i.w5)((function(){return[(0,i.Wm)(V)]})),_:1})])])]})),default:(0,i.w5)((function(){return[(0,i.Wm)(Q,null,{default:(0,i.w5)((function(){return[(0,i.wy)((0,i._)("div",M,R,512),[[r.F8,de.value.hiddenforumChartType1]])]})),_:1})]})),_:1},512),[[r.F8,de.value.closeforumChartType1]])]})),_:1})):(0,i.kq)("",!0)])])}}};var te=n(83744);const ne=(0,te.Z)(ee,[["__scopeId","data-v-27c06920"]]),ie=ne}}]);
//# sourceMappingURL=110.ae15c8ff.js.map